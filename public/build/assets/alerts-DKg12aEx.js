$(function(){$(".flatpickr-basic").flatpickr(),$('[data-bs-toggle="tooltip"]').tooltip(),$(".resolve-alert").on("click",function(){var o=$(this).data("id");$("#alert_id").val(o),$("#is_resolved").val(1),$("#resolveAlertModal").modal("show")}),$(".unresolve-alert").on("click",function(){var o=$(this).data("id");$("#alert_id").val(o),$("#is_resolved").val(0),$("#resolution_notes").val(""),$("#resolveAlertModal").modal("show")}),$("#submitResolveAlert").on("click",function(){var o=$("#alert_id").val(),a=$("#is_resolved").val(),s=$("#resolution_notes").val();$.ajax({url:"/dashboard/security/alerts/"+o,type:"PUT",data:{_token:"{{ csrf_token() }}",is_resolved:a,resolution_notes:s},success:function(e){$("#resolveAlertModal").modal("hide"),toastr.success(e.message),setTimeout(function(){window.location.reload()},2e3)},error:function(e){toastr.error(e.responseJSON.message||"حدث خطأ أثناء معالجة الطلب")}})}),$(".block-ip").on("click",function(){var o=$(this).data("ip");$("#ip_address").val(o),$("#blockIpModal").modal("show")}),$("#submitBlockIp").on("click",function(){var o=$("#ip_address").val(),a=$("#block_reason").val(),s=$("#block_duration").val();$.ajax({url:"/dashboard/security/block-ip",type:"POST",data:{_token:"{{ csrf_token() }}",ip_address:o,reason:a,duration:s},success:function(e){$("#blockIpModal").modal("hide"),toastr.success(e.message),setTimeout(function(){window.location.reload()},2e3)},error:function(e){toastr.error(e.responseJSON.message||"حدث خطأ أثناء معالجة الطلب")}})})});
