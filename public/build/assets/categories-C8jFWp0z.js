document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".toggle-status").forEach(e=>{e.addEventListener("change",function(){this.dataset.id;const n=this.dataset.url;fetch(n,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}}).then(t=>t.json()).then(t=>{if(t.success)Swal.fire({icon:"success",title:"نجاح",text:t.message,showConfirmButton:!1,timer:1500});else throw new Error(t.message)}).catch(t=>{Swal.fire({icon:"error",title:"خطأ",text:t.message,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1}),this.checked=!this.checked})})}),document.querySelectorAll(".delete-form").forEach(e=>{e.addEventListener("submit",function(n){n.preventDefault();const t=this.dataset.name;Swal.fire({title:"حذف الفئة",text:`هل أنت متأكد من حذف "${t}"؟`,icon:"warning",showCancelButton:!0,confirmButtonText:"نعم، احذفه!",cancelButtonText:"إلغاء",customClass:{confirmButton:"btn btn-danger me-3",cancelButton:"btn btn-secondary"},buttonsStyling:!1}).then(o=>{o.isConfirmed&&this.submit()})})})});
