$(function(){$(".publish-btn, .unpublish-btn").on("click",function(){const t=$(this);t.data("id");const n=t.data("action"),e=n==="publish";Swal.fire({title:e?"{{ __('Are you sure you want to publish this article?') }}":"{{ __('Are you sure you want to unpublish this article?') }}",icon:"question",showCancelButton:!0,confirmButtonText:e?"{{ __('Publish') }}":"{{ __('Unpublish') }}",cancelButtonText:"{{ __('Cancel') }}",customClass:{confirmButton:`btn btn-${e?"success":"warning"} btn-lg`,cancelButton:"btn btn-outline-secondary btn-lg"},buttonsStyling:!1}).then(i=>{if(i.isConfirmed){t.prop("disabled",!0);const r=t.html();t.html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>'),$.ajax({url:`${window.location.pathname}/${n}`,method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(o){Swal.fire({title:"Success!",text:o.message,icon:"success",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1}).then(()=>{location.reload()})},error:function(o){var s;t.prop("disabled",!1),t.html(r),Swal.fire({title:"Error!",text:((s=o.responseJSON)==null?void 0:s.message)||"An error occurred",icon:"error",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}})}})}),$(".delete-form").on("submit",function(t){t.preventDefault();const n=$(this);Swal.fire({title:n.data("confirm"),icon:"warning",showCancelButton:!0,confirmButtonText:"{{ __('Delete') }}",cancelButtonText:"{{ __('Cancel') }}",customClass:{confirmButton:"btn btn-danger btn-lg",cancelButton:"btn btn-outline-secondary btn-lg"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&n.off("submit").submit()})})});
