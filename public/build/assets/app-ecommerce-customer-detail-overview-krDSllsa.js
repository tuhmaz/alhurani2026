document.addEventListener("DOMContentLoaded",function(u){const d=document.querySelector(".datatables-customer-order"),i=baseUrl+"app/ecommerce/order/details",l={1:{title:"Ready to  Pickup",class:"bg-label-info"},2:{title:"Dispatched",class:"bg-label-warning"},3:{title:"Delivered",class:"bg-label-success"},4:{title:"Out for delivery",class:"bg-label-primary"}};if(d){let o=document.createElement("h5");o.classList.add("card-title","mb-0"),o.innerHTML="Orders placed";var m=new DataTable(d,{ajax:assetsPath+"json/ecommerce-customer-order.json",columns:[{data:"id"},{data:"order"},{data:"date"},{data:"status"},{data:"spent"},{data:"id"}],columnDefs:[{className:"control",searchable:!1,orderable:!1,responsivePriority:2,targets:0,render:function(t,a,s,r){return""}},{targets:1,responsivePriority:4,render:function(t,a,s,r){const e=s.order;return"<a href='"+i+"'><span>#"+e+"</span></a>"}},{targets:2,render:function(t,a,s,r){return'<span class="text-nowrap">'+new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"</span > "}},{targets:3,render:function(t,a,s,r){const e=s.status;return'<span class="badge '+l[e].class+'" text-capitalized>'+l[e].title+"</span>"}},{targets:4,render:function(t,a,s,r){return"<span >"+s.spent+"</span>"}},{targets:-1,title:"Actions",searchable:!1,orderable:!1,render:function(t,a,s,r){return`
              <div class="text-xxl-center">
                <button class="btn btn-text-secondary rounded-pill waves-effect btn-icon dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                  <i class="icon-base ti tabler-dots-vertical"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-end m-0">
                  <a href="javascript:void(0);" class="dropdown-item">View</a>
                  <a href="javascript:void(0);" class="dropdown-item delete-record">Delete</a>
                </div>
              </div>
            `}}],order:[[1,"desc"]],layout:{topStart:{rowClass:"row card-header border-bottom mx-0 px-3 py-0",features:[o]},topEnd:{search:{placeholder:"Search order",text:"_INPUT_"}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},pageLength:6,language:{paginate:{next:'<i class="icon-base ti tabler-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base ti tabler-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base ti tabler-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base ti tabler-chevrons-right scaleX-n1-rtl icon-18px"></i>'}},responsive:{details:{display:DataTable.Responsive.display.modal({header:function(t){return"Details of "+t.data().order}}),type:"column",renderer:function(t,a,s){const r=s.map(function(e){return e.title!==""?`<tr data-dt-row="${e.rowIndex}" data-dt-column="${e.columnIndex}">
                      <td>${e.title}:</td>
                      <td>${e.data}</td>
                    </tr>`:""}).join("");if(r){const e=document.createElement("div");e.classList.add("table-responsive");const n=document.createElement("table");e.appendChild(n),n.classList.add("table");const c=document.createElement("tbody");return c.innerHTML=r,n.appendChild(c),e}return!1}}}})}document.addEventListener("click",function(o){if(o.target.classList.contains("delete-record")){m.row(o.target.closest("tr")).remove().draw();const t=document.querySelector(".dtr-bs-modal");if(t&&t.classList.contains("show")){const a=bootstrap.Modal.getInstance(t);a==null||a.hide()}}}),setTimeout(()=>{[{selector:".dt-buttons .btn",classToRemove:"btn-secondary"},{selector:".dt-search .form-control",classToRemove:"form-control-sm"},{selector:".dt-length .form-select",classToRemove:"form-select-sm"},{selector:".dt-layout-table",classToRemove:"row mt-2"},{selector:".dt-layout-start",classToAdd:"mb-xxl-0 mb-4"},{selector:".dt-layout-full",classToRemove:"col-md col-12",classToAdd:"table-responsive"}].forEach(({selector:t,classToRemove:a,classToAdd:s})=>{document.querySelectorAll(t).forEach(r=>{a&&a.split(" ").forEach(e=>r.classList.remove(e)),s&&s.split(" ").forEach(e=>r.classList.add(e))})})},100)});
