document.addEventListener("DOMContentLoaded",function(_){const m=document.querySelector(".start_date"),p=document.querySelector(".end_date"),i=document.querySelector(".flatpickr-range");i&&i.flatpickr({mode:"range",dateFormat:"m/d/Y",orientation:isRtl?"auto right":"auto left",locale:{format:"MM/DD/YYYY"},onClose:function(e,n,a){let l="",t=new Date;e[0]!==void 0&&(l=new Date(e[0]).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),m.value=l),e[1]!==void 0&&(t=new Date(e[1]).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),p.value=t),i.dispatchEvent(new Event("change")),i.dispatchEvent(new Event("keyup"))}}),typeof $.fn<"u"&&typeof $.fn.dataTableExt<"u"&&($.fn.dataTableExt.afnFiltering.length=0);const w=function(e,n,a){typeof $.fn<"u"&&typeof $.fn.dataTableExt<"u"&&$.fn.dataTableExt.afnFiltering.push(function(l,t,s){const o=d(t[e]),r=d(n),c=d(a);return r<=o&&o<=c||o>=r&&c===""&&r!==""?!0:o<=c&&r===""&&c!==""})},d=function(e){const n=new Date(e);return n.getFullYear()+("0"+(n.getMonth()+1)).slice(-2)+("0"+n.getDate()).slice(-2)},b=document.querySelector(".datatables-ajax");b&&new DataTable(b,{processing:!0,ajax:{url:assetsPath+"json/ajax.php",dataSrc:"data"},layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:""}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ti tabler-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base ti tabler-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base ti tabler-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base ti tabler-chevrons-right scaleX-n1-rtl icon-18px"></i>'}}});const h=document.querySelector(".dt-column-search");if(h){const e=document.querySelector(".dt-column-search thead"),n=e.querySelector("tr").cloneNode(!0);e.appendChild(n);const a=e.querySelectorAll("tr:nth-child(2) th");a.forEach((t,s)=>{const o=t.textContent,r=document.createElement("input");r.type="text",r.className="form-control",r.placeholder=`Search ${o}`,t.style.borderLeft="none",s===a.length-1&&(t.style.borderRight="none"),t.innerHTML="",t.appendChild(r),r.addEventListener("keyup",function(){l.column(s).search()!==this.value&&l.column(s).search(this.value).draw()}),r.addEventListener("change",function(){l.column(s).search()!==this.value&&l.column(s).search(this.value).draw()})});let l=new DataTable(h,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"}],orderCellsTop:!0,layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:"Type search here"}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ti tabler-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base ti tabler-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base ti tabler-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base ti tabler-chevrons-right scaleX-n1-rtl icon-18px"></i>'}}})}const g=document.querySelector(".dt-advanced-search");let u;g&&(u=new DataTable(g,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:""},{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"}],columnDefs:[{className:"control",orderable:!1,targets:0,render:function(e,n,a,l){return""}}],layout:{topStart:{rowClass:"m-0",features:[]},topEnd:{},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ti tabler-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base ti tabler-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base ti tabler-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base ti tabler-chevrons-right scaleX-n1-rtl icon-18px"></i>'}},orderCellsTop:!0,responsive:{details:{display:DataTable.Responsive.display.modal({header:function(e){var n=e.data();return"Details of "+n.full_name}}),type:"column",renderer:function(e,n,a){const l=a.map(function(t){return t.title!==""?`<tr data-dt-row="${t.rowIndex}" data-dt-column="${t.columnIndex}">
                      <td>${t.title}:</td>
                      <td>${t.data}</td>
                    </tr>`:""}).join("");if(l){const t=document.createElement("div");t.classList.add("table-responsive");const s=document.createElement("table");t.appendChild(s),s.classList.add("table");const o=document.createElement("tbody");return o.innerHTML=l,s.appendChild(o),t}return!1}}}})),document.querySelectorAll("input.dt-input").forEach(e=>{e.addEventListener("keyup",function(){const n=this.getAttribute("data-column"),a=this.value;x(n,a)})});function x(e,n){if(e==5){const a=m.value,l=p.value;a!==""&&l!==""&&($.fn.dataTable.ext.search.length=0,w(e,a,l)),u.draw()}else u.column(e).search(n,!1,!0).draw()}const y=document.querySelector(".dt-responsive");y&&new DataTable(y,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:"id"},{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"},{data:"age"},{data:"experience"},{data:"status"}],columnDefs:[{className:"control",orderable:!1,targets:0,searchable:!1,render:function(e,n,a,l){return""}},{targets:-1,render:function(e,n,a,l){const t=a.status,s={1:{title:"Current",class:"bg-label-primary"},2:{title:"Professional",class:"bg-label-success"},3:{title:"Rejected",class:"bg-label-danger"},4:{title:"Resigned",class:"bg-label-warning"},5:{title:"Applied",class:"bg-label-info"}};return typeof s[t]>"u"?e:`
              <span class="badge ${s[t].class}">
                ${s[t].title}
              </span>
            `}}],destroy:!0,layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:""}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base ti tabler-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base ti tabler-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base ti tabler-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base ti tabler-chevrons-right scaleX-n1-rtl icon-18px"></i>'}},responsive:{details:{display:DataTable.Responsive.display.modal({header:function(e){var n=e.data();return"Details of "+n.full_name}}),type:"column",renderer:function(e,n,a){const l=a.map(function(t){return t.title!==""?`<tr data-dt-row="${t.rowIndex}" data-dt-column="${t.columnIndex}">
                      <td>${t.title}:</td>
                      <td>${t.data}</td>
                    </tr>`:""}).join("");if(l){const t=document.createElement("div");t.classList.add("table-responsive");const s=document.createElement("table");t.appendChild(s),s.classList.add("table");const o=document.createElement("tbody");return o.innerHTML=l,s.appendChild(o),t}return!1}}}});const v=document.querySelector(".dt-responsive-child");let f;v&&(f=new DataTable(v,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:null},{data:"full_name"},{data:"email"},{data:"city"},{data:"start_date"},{data:"age"},{data:"status"}],columnDefs:[{className:"dt-control",orderable:!1,targets:0,searchable:!1,defaultContent:""},{targets:-1,render:function(e,n,a,l){const t=a.status,s={1:{title:"Current",class:"bg-label-primary"},2:{title:"Professional",class:"bg-label-success"},3:{title:"Rejected",class:"bg-label-danger"},4:{title:"Resigned",class:"bg-label-warning"},5:{title:"Applied",class:"bg-label-info"}};return typeof s[t]>"u"?e:`
              <span class="badge ${s[t].class}">
                ${s[t].title}
              </span>
            `}}],layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:""}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},scrollX:!0,language:{paginate:{next:'<i class="icon-base ti tabler-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base ti tabler-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base ti tabler-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base ti tabler-chevrons-right scaleX-n1-rtl icon-18px"></i>'}}}));function E(e){return"<dl><dt>Full name:</dt><dd>"+e.full_name+"</dd><dt>Post:</dt><dd>"+e.post+"</dd><dt>Salary:</dt><dd>"+e.salary+"</dd><dt>Experience:</dt><dd>"+e.experience+"</dd></dl>"}f.on("click","td.dt-control",function(e){let n=e.target.closest("tr"),a=f.row(n);a.child.isShown()?a.child.hide():a.child(E(a.data())).show()}),setTimeout(()=>{[{selector:".dt-buttons .btn",classToRemove:"btn-secondary"},{selector:".dt-search .form-control",classToRemove:"form-control-sm",classToAdd:"ms-4"},{selector:".dt-length .form-select",classToRemove:"form-select-sm"},{selector:".dt-layout-table",classToRemove:"row mt-2"},{selector:".dt-layout-end",classToAdd:"mt-0"},{selector:".dt-layout-end .dt-search",classToAdd:"mt-md-6 mt-0"},{selector:".dt-layout-full",classToRemove:"col-md col-12",classToAdd:"table-responsive"}].forEach(({selector:n,classToRemove:a,classToAdd:l})=>{document.querySelectorAll(n).forEach(t=>{a&&a.split(" ").forEach(s=>t.classList.remove(s)),l&&l.split(" ").forEach(s=>t.classList.add(s))})})},100)});
