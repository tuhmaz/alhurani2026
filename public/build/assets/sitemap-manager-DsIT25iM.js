import{S as n}from"./sweetalert2.esm.all-D3pEHXw3.js";document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("regenerateSitemapButton");a&&a.addEventListener("click",i);async function i(o){o.preventDefault();const t=o.currentTarget,s=t.innerHTML;try{t.disabled=!0,t.innerHTML='<i class="page-icon ti tabler-loader ti-spin me-1"></i> جاري التحديث...',await n.fire({title:"جاري إعادة إنشاء خريطة الموقع",html:"يرجى الانتظار...",allowOutsideClick:!1,didOpen:()=>{n.showLoading()}});const e=await fetch("/dashboard/sitemap/generate",{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"application/json",Accept:"application/json"}}),r=await e.json();if(!e.ok)throw new Error(r.message||`خطأ في الاتصال: ${e.status}`);await n.fire({title:"نجاح",text:r.message||"تم إعادة إنشاء الخرائط بنجاح.",icon:"success",confirmButtonText:"حسناً"}),window.location.reload()}catch(e){console.error("Error:",e),await n.fire({title:"خطأ",text:e.message||"حدث خطأ غير متوقع",icon:"error",confirmButtonText:"حسناً"})}finally{t.disabled=!1,t.innerHTML=s}}});
