document.addEventListener("DOMContentLoaded",function(i){var d=document.querySelector(".datatables-order-details");if(d){let c=document.createElement("h5");c.classList.add("card-title","mb-0"),c.innerHTML="Order details";let a=document.createElement("h6");a.classList.add("m-0"),a.innerHTML='<a href=" javascript:void(0)">Edit</a>',new DataTable(d,{ajax:assetsPath+"json/ecommerce-order-details.json",columns:[{data:"id"},{data:"id",orderable:!1,render:DataTable.render.select()},{data:"product_name"},{data:"price"},{data:"qty"},{data:"id"}],columnDefs:[{className:"control",searchable:!1,orderable:!1,responsivePriority:2,targets:0,render:function(s,r,e,n){return""}},{targets:1,orderable:!1,searchable:!1,responsivePriority:3,checkboxes:!0,render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input">'},checkboxes:{selectAllRender:'<input type="checkbox" class="form-check-input">'}},{targets:2,responsivePriority:1,searchable:!1,orderable:!1,render:function(s,r,e,n){const t=e.product_name,o=e.product_info,l=e.image;let u;if(l)u=`
                <img src="${assetsPath}img/products/${l}" alt="product-${t}" class="rounded-2">
              `;else{const m=Math.floor(Math.random()*6),f=["success","danger","warning","info","dark","primary","secondary"][m],p=(t.match(/\b\w/g)||[]).slice(0,2).join("").toUpperCase();u=`<span class="avatar-initial rounded-2 bg-label-${f}">${p}</span>`}return`
              <div class="d-flex justify-content-start align-items-center text-nowrap">
                <div class="avatar-wrapper">
                  <div class="avatar avatar-sm me-3">${u}</div>
                </div>
                <div class="d-flex flex-column">
                  <h6 class="text-body mb-0">${t}</h6>
                  <small>${o}</small>
                </div>
              </div>`}},{targets:3,searchable:!1,orderable:!1,render:function(s,r,e,n){return"<span>$"+e.price+"</span>"}},{targets:4,searchable:!1,orderable:!1,render:function(s,r,e,n){return'<span class="text-body">'+e.qty+"</span>"}},{targets:5,searchable:!1,orderable:!1,render:function(s,r,e,n){return'<span class="text-body">'+e.qty*e.price+"</span>"}}],select:{style:"multi",selector:"td:nth-child(2)"},order:[2,""],layout:{topStart:{rowClass:"row card-header border-bottom mx-0 px-3",features:[c]},topEnd:{features:[a]},bottomStart:{rowClass:"mt-0",features:[]},bottomEnd:{}},responsive:{details:{display:DataTable.Responsive.display.modal({header:function(s){var r=s.data();return"Details of "+r.product_name}}),type:"column",renderer:function(s,r,e){const n=e.map(function(t){return t.title!==""?`<tr data-dt-row="${t.rowIndex}" data-dt-column="${t.columnIndex}">
                      <td>${t.title}:</td>
                      <td>${t.data}</td>
                    </tr>`:""}).join("");if(n){const t=document.createElement("div");t.classList.add("table-responsive");const o=document.createElement("table");t.appendChild(o),o.classList.add("table");const l=document.createElement("tbody");return l.innerHTML=n,o.appendChild(l),t}return!1}}}})}setTimeout(()=>{[{selector:".dt-layout-table",classToRemove:"row mt-2"},{selector:".dt-layout-full",classToRemove:"col-md col-12",classToAdd:"table-responsive"}].forEach(({selector:a,classToRemove:s,classToAdd:r})=>{document.querySelectorAll(a).forEach(e=>{s.split(" ").forEach(n=>e.classList.remove(n)),r&&e.classList.add(r)})})},100)});(function(){const i=document.querySelector(".delete-order");i&&(i.onclick=function(){Swal.fire({title:"Are you sure?",text:"You won't be able to revert order!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete order!",customClass:{confirmButton:"btn btn-primary me-2 waves-effect waves-light",cancelButton:"btn btn-label-secondary waves-effect waves-light"},buttonsStyling:!1}).then(function(a){a.value?Swal.fire({icon:"success",title:"Deleted!",text:"Order has been removed.",customClass:{confirmButton:"btn btn-success waves-effect waves-light"}}):a.dismiss===Swal.DismissReason.cancel&&Swal.fire({title:"Cancelled",text:"Cancelled Delete :)",icon:"error",customClass:{confirmButton:"btn btn-success waves-effect waves-light"}})})});function d(){var a=new Date().getFullYear();return a}var c=d();document.getElementById("orderYear").innerHTML=c})();
