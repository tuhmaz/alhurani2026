import{r as V}from"./index-CRnahbGi.js";var u={exports:{}},c={},f={exports:{}},h={},_;function I(){if(_)return h;_=1;var l=V(),a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},a(o,n)};function s(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(o,n);function e(){this.constructor=o}o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var d=function(o){s(n,o);function n(e){var t=o.call(this,e)||this;return t.statuses=new Map,t.opts=Object.assign({},{onStatusChanged:function(){}},e),t.elementValidatingHandler=t.onElementValidating.bind(t),t.elementValidatedHandler=t.onElementValidated.bind(t),t.elementNotValidatedHandler=t.onElementNotValidated.bind(t),t.elementIgnoredHandler=t.onElementIgnored.bind(t),t.fieldAddedHandler=t.onFieldAdded.bind(t),t.fieldRemovedHandler=t.onFieldRemoved.bind(t),t}return n.prototype.install=function(){this.core.on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler)},n.prototype.uninstall=function(){this.statuses.clear(),this.core.off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)},n.prototype.areFieldsValid=function(){return Array.from(this.statuses.values()).every(function(e){return e==="Valid"||e==="NotValidated"||e==="Ignored"})},n.prototype.getStatuses=function(){return this.isEnabled?this.statuses:new Map},n.prototype.onFieldAdded=function(e){this.statuses.set(e.field,"NotValidated")},n.prototype.onFieldRemoved=function(e){this.statuses.has(e.field)&&this.statuses.delete(e.field),this.handleStatusChanged(this.areFieldsValid())},n.prototype.onElementValidating=function(e){this.statuses.set(e.field,"Validating"),this.handleStatusChanged(!1)},n.prototype.onElementValidated=function(e){this.statuses.set(e.field,e.valid?"Valid":"Invalid"),e.valid?this.handleStatusChanged(this.areFieldsValid()):this.handleStatusChanged(!1)},n.prototype.onElementNotValidated=function(e){this.statuses.set(e.field,"NotValidated"),this.handleStatusChanged(!1)},n.prototype.onElementIgnored=function(e){this.statuses.set(e.field,"Ignored"),this.handleStatusChanged(this.areFieldsValid())},n.prototype.handleStatusChanged=function(e){this.isEnabled&&this.opts.onStatusChanged(e)},n}(l.Plugin);return h.FieldStatus=d,h}var y;function H(){return y||(y=1,f.exports=I()),f.exports}var F;function A(){if(F)return c;F=1;var l=V(),a=H(),s=function(n,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},s(n,e)};function d(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");s(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var o=function(n){d(e,n);function e(t){var i=n.call(this,t)||this;return i.opts=Object.assign({},{onPrefocus:function(){}},t),i.invalidFormHandler=i.onFormInvalid.bind(i),i}return e.prototype.install=function(){this.core.on("core.form.invalid",this.invalidFormHandler).registerPlugin(e.FIELD_STATUS_PLUGIN,new a.FieldStatus)},e.prototype.uninstall=function(){this.core.off("core.form.invalid",this.invalidFormHandler).deregisterPlugin(e.FIELD_STATUS_PLUGIN)},e.prototype.onEnabled=function(){this.core.enablePlugin(e.FIELD_STATUS_PLUGIN)},e.prototype.onDisabled=function(){this.core.disablePlugin(e.FIELD_STATUS_PLUGIN)},e.prototype.onFormInvalid=function(){if(this.isEnabled){var t=this.core.getPlugin(e.FIELD_STATUS_PLUGIN),i=t.getStatuses(),r=Object.keys(this.core.getFields()).filter(function(E){return i.get(E)==="Invalid"});if(r.length>0){var p=r[0],v=this.core.getElements(p);if(v.length>0){var g=v[0],m={firstElement:g,field:p};this.core.emit("plugins.autofocus.prefocus",m),this.opts.onPrefocus(m),g.focus()}}}},e.FIELD_STATUS_PLUGIN="___autoFocusFieldStatus",e}(l.Plugin);return c.AutoFocus=o,c}var S;function P(){return S||(S=1,u.exports=A()),u.exports}var L=P();try{FormValidation.plugins.AutoFocus=L.AutoFocus}catch{}
